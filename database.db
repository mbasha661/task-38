db.company_drives.aggregate([
  {
    $lookup: {
      from: "attendance",
      localField: "drive_id",
      foreignField: "drive_id",
      as: "attendanceInfo"
    }
  },
  {
    $lookup: {
      from: "users",
      localField: "attendanceInfo.user_id",
      foreignField: "user_id",
      as: "students"
    }
  }
]);
------------------------
db.codekata.aggregate([
  {
    $lookup: {
      from: "tasks",
      localField: "task_id",
      foreignField: "task_id",
      as: "taskInfo"
    }
  },
  {
    $group: {
      _id: "$user_id",
      problems_solved: { $sum: { $cond: [{ $eq: ["$taskInfo.submitted", true] }, 1, 0] } }
    }
  }
]);
----------------------
db.mentors.aggregate([
  {
    $lookup: {
      from: "users",
      localField: "mentor_id",
      foreignField: "mentor_id",
      as: "menteeInfo"
    }
  },
  {
    $group: {
      _id: "$mentor_id",
      mentor_name: { $first: "$mentor_name" },
      mentee_count: { $sum: 1 }
    }
  },
  {
    $match: { mentee_count: { $gt: 15 } }
  }
]);
-------------------------
db.users.aggregate([
  {
    $lookup: {
      from: "attendance",
      localField: "user_id",
      foreignField: "user_id",
      as: "attendanceInfo"
    }
  },
  {
    $lookup: {
      from: "tasks",
      localField: "attendanceInfo.task_id",
      foreignField: "task_id",
      as: "taskInfo"
    }
  },
  {
    $match: {
      "attendanceInfo.status": "absent",
      "taskInfo.submitted": false,
      "attendanceInfo.attendance_date": { $gte: ISODate("2020-10-15"), $lte: ISODate("2020-10-31") }
    }
  }
]);
----------------------
 quesries:

 db.products.find({});
db.products.find({ product_price: { $gte: 400, $lte: 800 } });
db.products.find({ product_price: { $lt: 400, $gt: 600 } });
db.products.find({ product_price: { $gt: 500 } }).limit(4);
db.products.find({}, { product_name: 1, product_material: 1, _id: 0 });
db.products.findOne({ id: 10 });
db.products.find({}, { product_name: 1, product_material: 1, _id: 0 });
db.products.find({ product_material: { $regex: /soft/i } });
db.products.find({ product_color: "indigo", product_price: 492.00 });
db.products.find({ product_color: "indigo", product_price: 492.00 });
